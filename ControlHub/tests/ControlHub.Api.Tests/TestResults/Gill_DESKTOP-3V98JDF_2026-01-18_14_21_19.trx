<?xml version="1.0" encoding="utf-8"?>
<TestRun id="775f1fc7-1ef6-44f7-9143-35e97491d726" name="Gill@DESKTOP-3V98JDF 2026-01-18 14:21:19" runUser="DESKTOP-3V98JDF\Gill" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2026-01-18T14:21:19.0751167+07:00" queuing="2026-01-18T14:21:19.0751170+07:00" start="2026-01-18T14:21:16.4827620+07:00" finish="2026-01-18T14:21:19.0833302+07:00" />
  <TestSettings name="default" id="ce4fa5ac-bfaa-43ce-9dc3-d57238eedbf2">
    <Deployment runDeploymentRoot="Gill_DESKTOP-3V98JDF_2026-01-18_14_21_19" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="8d83e104-c29b-44d4-84d7-2a7fa1487f72" testId="a0acf902-031a-8077-580a-c94562166a95" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnConflict_WhenUserAlreadyExists" computerName="DESKTOP-3V98JDF" duration="00:00:00.0962192" startTime="2026-01-18T14:21:18.8661720+07:00" endTime="2026-01-18T14:21:18.9584134+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Failed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="8d83e104-c29b-44d4-84d7-2a7fa1487f72">
      <Output>
        <ErrorInfo>
          <Message>Expected firstResponse.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.</Message>
          <StackTrace>   at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
   at ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnConflict_WhenUserAlreadyExists() in e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RegistrationTests.cs:line 49&#xD;
--- End of stack trace from previous location ---</StackTrace>
        </ErrorInfo>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="7091060d-b084-4343-8da4-a8c766ba33a4" testId="494cb6f0-cdd7-db36-0e92-ebd2fdea7e01" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnBadRequest_WhenPasswordIsTooShort" computerName="DESKTOP-3V98JDF" duration="00:00:01.7918280" startTime="2026-01-18T14:21:16.9594235+07:00" endTime="2026-01-18T14:21:18.7563241+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="7091060d-b084-4343-8da4-a8c766ba33a4" />
    <UnitTestResult executionId="386e87bd-cda4-4d95-901c-6ca5a0302b35" testId="bd1c0ae9-8082-b70d-99da-0e32c5cac791" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnOk_WhenRequestIsValid" computerName="DESKTOP-3V98JDF" duration="00:00:00.1017808" startTime="2026-01-18T14:21:18.7636608+07:00" endTime="2026-01-18T14:21:18.8618012+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Failed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="386e87bd-cda4-4d95-901c-6ca5a0302b35">
      <Output>
        <ErrorInfo>
          <Message>Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.</Message>
          <StackTrace>   at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
   at ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnOk_WhenRequestIsValid() in e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RegistrationTests.cs:line 33&#xD;
--- End of stack trace from previous location ---</StackTrace>
        </ErrorInfo>
      </Output>
    </UnitTestResult>
  </Results>
  <TestDefinitions>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnBadRequest_WhenPasswordIsTooShort" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="494cb6f0-cdd7-db36-0e92-ebd2fdea7e01">
      <Execution id="7091060d-b084-4343-8da4-a8c766ba33a4" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests" name="Register_ShouldReturnBadRequest_WhenPasswordIsTooShort" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnOk_WhenRequestIsValid" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="bd1c0ae9-8082-b70d-99da-0e32c5cac791">
      <Execution id="386e87bd-cda4-4d95-901c-6ca5a0302b35" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests" name="Register_ShouldReturnOk_WhenRequestIsValid" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnConflict_WhenUserAlreadyExists" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="a0acf902-031a-8077-580a-c94562166a95">
      <Execution id="8d83e104-c29b-44d4-84d7-2a7fa1487f72" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests" name="Register_ShouldReturnConflict_WhenUserAlreadyExists" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="a0acf902-031a-8077-580a-c94562166a95" executionId="8d83e104-c29b-44d4-84d7-2a7fa1487f72" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="494cb6f0-cdd7-db36-0e92-ebd2fdea7e01" executionId="7091060d-b084-4343-8da4-a8c766ba33a4" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="bd1c0ae9-8082-b70d-99da-0e32c5cac791" executionId="386e87bd-cda4-4d95-901c-6ca5a0302b35" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Failed">
    <Counters total="3" executed="3" passed="1" failed="2" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.4+50e68bbb8b (64-bit .NET 8.0.22)&#xD;
[xUnit.net 00:00:00.06]   Discovering: ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.10]   Discovered:  ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.12]   Starting:    ControlHub.Api.Tests&#xD;
[14:21:17 INF] Saved 3 entities to in-memory store.&#xD;
[14:21:17 INF] Saved 19 entities to in-memory store.&#xD;
Seeded 5 identifier configs successfully.&#xD;
[14:21:17 INF] Saved 32 entities to in-memory store.&#xD;
Seeded 32 permissions successfully.&#xD;
[14:21:18 INF] Saved 16 entities to in-memory store.&#xD;
Seeded 4 test accounts successfully.&#xD;
Database seeding completed successfully.&#xD;
? ControlHub seeding completed successfully!&#xD;
[14:21:18 INF] User profile is available. Using 'C:\Users\Gill\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.&#xD;
[14:21:18 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/users/register - application/json; charset=utf-8 83&#xD;
[14:21:18 WRN] Failed to determine the https port for redirect.&#xD;
[14:21:18 INF] ?? [JWT Config] Successfully loaded. Issuer: ControlHub&#xD;
[14:21:18 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:21:18 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControlHub.API.Accounts.ViewModels.Request.RegisterUserRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:21:18 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) - Validation state: Valid&#xD;
[14:21:18 INF] Account.RegisterUser.Started: Starting account creation for Ident badpass@example.com&#xD;
[14:21:18 INF] Account.RegisterUser.Success: Account created successfully for AccountId dfdabcb9-7ca1-4501-a6e2-718b084e297b, Ident badpass@example.com&#xD;
[14:21:18 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) in 149.4591ms&#xD;
[14:21:18 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:21:18 ERR] Unhandled exception at /api/Auth/users/register [InvalidOperationException] with TraceId 0HNIMC8M6OTHG&#xD;
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Database.Transaction.TransactionIgnoredWarning': Transactions are not supported by the in-memory store. See https://go.microsoft.com/fwlink/?LinkId=800142 This exception can be suppressed or logged by passing event ID 'InMemoryEventId.TransactionIgnoredWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.&#xD;
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, Exception exception)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Internal.InMemoryLoggerExtensions.TransactionIgnoredWarning(IDiagnosticsLogger`1 diagnostics)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryTransactionManager.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at ControlHub.Infrastructure.Persistence.UnitOfWork.CommitAsync(CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.Infrastructure\Persistence\UnitOfWork.cs:line 46&#xD;
   at ControlHub.Application.Accounts.Commands.RegisterUser.RegisterUserCommandHandler.Handle(RegisterUserCommand request, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Accounts\Commands\RegisterUser\RegisterUserCommandHandler.cs:line 92&#xD;
   at ControlHub.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Common\Behaviors\ValidationBehavior.cs:line 27&#xD;
   at ControlHub.API.Accounts.Controllers.AuthController.Register(RegisterUserRequest request, CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.API\Accounts\Controllers\AuthController.cs:line 35&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Logged|12_1(ControllerActionInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()&#xD;
--- End of stack trace from previous location ---&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)&#xD;
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)&#xD;
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)&#xD;
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)&#xD;
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)&#xD;
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in e:\Project\ControlHub\src\ControlHub.API\Middlewares\GlobalExceptionMiddleware.cs:line 24&#xD;
[14:21:18 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/users/register - 400 null application/json; charset=utf-8 232.5165ms&#xD;
[14:21:18 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/users/register - application/json; charset=utf-8 98&#xD;
[14:21:18 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:21:18 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControlHub.API.Accounts.ViewModels.Request.RegisterUserRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:21:18 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) - Validation state: Valid&#xD;
[14:21:18 INF] Account.RegisterUser.Started: Starting account creation for Ident newuser@example.com&#xD;
[14:21:18 INF] Account.RegisterUser.Success: Account created successfully for AccountId 1098b45b-68b4-44c4-8fde-b389a0d9d3ee, Ident newuser@example.com&#xD;
[14:21:18 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) in 66.8061ms&#xD;
[14:21:18 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:21:18 ERR] Unhandled exception at /api/Auth/users/register [InvalidOperationException] with TraceId 0HNIMC8M6OTHH&#xD;
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Database.Transaction.TransactionIgnoredWarning': Transactions are not supported by the in-memory store. See https://go.microsoft.com/fwlink/?LinkId=800142 This exception can be suppressed or logged by passing event ID 'InMemoryEventId.TransactionIgnoredWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.&#xD;
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, Exception exception)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Internal.InMemoryLoggerExtensions.TransactionIgnoredWarning(IDiagnosticsLogger`1 diagnostics)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryTransactionManager.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at ControlHub.Infrastructure.Persistence.UnitOfWork.CommitAsync(CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.Infrastructure\Persistence\UnitOfWork.cs:line 46&#xD;
   at ControlHub.Application.Accounts.Commands.RegisterUser.RegisterUserCommandHandler.Handle(RegisterUserCommand request, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Accounts\Commands\RegisterUser\RegisterUserCommandHandler.cs:line 92&#xD;
   at ControlHub.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Common\Behaviors\ValidationBehavior.cs:line 27&#xD;
   at ControlHub.API.Accounts.Controllers.AuthController.Register(RegisterUserRequest request, CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.API\Accounts\Controllers\AuthController.cs:line 35&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Logged|12_1(ControllerActionInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()&#xD;
--- End of stack trace from previous location ---&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)&#xD;
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)&#xD;
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)&#xD;
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)&#xD;
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)&#xD;
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in e:\Project\ControlHub\src\ControlHub.API\Middlewares\GlobalExceptionMiddleware.cs:line 24&#xD;
[14:21:18 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/users/register - 400 null application/json; charset=utf-8 72.092ms&#xD;
     Warning:&#xD;
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and&#xD;
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for&#xD;
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.&#xD;
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.&#xD;
     A paid commercial license supports the development and continued increasing support of&#xD;
     Fluent Assertions users under both commercial and community licenses. Help us&#xD;
     keep Fluent Assertions at the forefront of unit testing.&#xD;
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/&#xD;
[14:21:18 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/users/register - application/json; charset=utf-8 100&#xD;
[xUnit.net 00:00:02.04]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.&#xD;
[xUnit.net 00:00:02.04]       Stack Trace:&#xD;
[14:21:18 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
[xUnit.net 00:00:02.04]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
[14:21:18 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControlHub.API.Accounts.ViewModels.Request.RegisterUserRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[xUnit.net 00:00:02.04]         e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RegistrationTests.cs(33,0): at ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnOk_WhenRequestIsValid()&#xD;
[xUnit.net 00:00:02.04]         --- End of stack trace from previous location ---&#xD;
[14:21:18 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) - Validation state: Valid&#xD;
[14:21:18 INF] Account.RegisterUser.Started: Starting account creation for Ident duplicate@example.com&#xD;
[14:21:18 INF] Account.RegisterUser.Success: Account created successfully for AccountId 1da6da9d-ab16-4787-90e3-8adf8b2716c4, Ident duplicate@example.com&#xD;
[14:21:18 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) in 87.3101ms&#xD;
[14:21:18 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:21:18 ERR] Unhandled exception at /api/Auth/users/register [InvalidOperationException] with TraceId 0HNIMC8M6OTHI&#xD;
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Database.Transaction.TransactionIgnoredWarning': Transactions are not supported by the in-memory store. See https://go.microsoft.com/fwlink/?LinkId=800142 This exception can be suppressed or logged by passing event ID 'InMemoryEventId.TransactionIgnoredWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.&#xD;
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, Exception exception)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Internal.InMemoryLoggerExtensions.TransactionIgnoredWarning(IDiagnosticsLogger`1 diagnostics)&#xD;
   at Microsoft.EntityFrameworkCore.InMemory.Storage.Internal.InMemoryTransactionManager.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.BeginTransactionAsync(CancellationToken cancellationToken)&#xD;
   at ControlHub.Infrastructure.Persistence.UnitOfWork.CommitAsync(CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.Infrastructure\Persistence\UnitOfWork.cs:line 46&#xD;
   at ControlHub.Application.Accounts.Commands.RegisterUser.RegisterUserCommandHandler.Handle(RegisterUserCommand request, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Accounts\Commands\RegisterUser\RegisterUserCommandHandler.cs:line 92&#xD;
   at ControlHub.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Common\Behaviors\ValidationBehavior.cs:line 27&#xD;
   at ControlHub.API.Accounts.Controllers.AuthController.Register(RegisterUserRequest request, CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.API\Accounts\Controllers\AuthController.cs:line 35&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Logged|12_1(ControllerActionInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()&#xD;
--- End of stack trace from previous location ---&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)&#xD;
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)&#xD;
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)&#xD;
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)&#xD;
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)&#xD;
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in e:\Project\ControlHub\src\ControlHub.API\Middlewares\GlobalExceptionMiddleware.cs:line 24&#xD;
[14:21:18 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/users/register - 400 null application/json; charset=utf-8 93.1484ms&#xD;
[xUnit.net 00:00:02.14]       Expected firstResponse.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.&#xD;
[xUnit.net 00:00:02.14]       Stack Trace:&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
[xUnit.net 00:00:02.14]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
[xUnit.net 00:00:02.14]         e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RegistrationTests.cs(49,0): at ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnConflict_WhenUserAlreadyExists()&#xD;
[xUnit.net 00:00:02.14]         --- End of stack trace from previous location ---&#xD;
[xUnit.net 00:00:02.15]   Finished:    ControlHub.Api.Tests&#xD;
</StdOut>
    </Output>
    <RunInfos>
      <RunInfo computerName="DESKTOP-3V98JDF" outcome="Error" timestamp="2026-01-18T14:21:18.8637429+07:00">
        <Text>[xUnit.net 00:00:02.04]     ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnOk_WhenRequestIsValid [FAIL]</Text>
      </RunInfo>
      <RunInfo computerName="DESKTOP-3V98JDF" outcome="Error" timestamp="2026-01-18T14:21:18.9589451+07:00">
        <Text>[xUnit.net 00:00:02.14]     ControlHub.Api.Tests.FunctionalTests.Accounts.RegistrationTests.Register_ShouldReturnConflict_WhenUserAlreadyExists [FAIL]</Text>
      </RunInfo>
    </RunInfos>
  </ResultSummary>
</TestRun>