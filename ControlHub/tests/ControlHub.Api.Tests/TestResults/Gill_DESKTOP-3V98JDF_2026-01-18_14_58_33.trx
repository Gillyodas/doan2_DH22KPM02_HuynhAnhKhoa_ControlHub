<?xml version="1.0" encoding="utf-8"?>
<TestRun id="39795631-8400-4738-a2b7-4e9a69230207" name="Gill@DESKTOP-3V98JDF 2026-01-18 14:58:33" runUser="DESKTOP-3V98JDF\Gill" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2026-01-18T14:58:33.6386118+07:00" queuing="2026-01-18T14:58:33.6386120+07:00" start="2026-01-18T14:58:30.3359341+07:00" finish="2026-01-18T14:58:33.6448445+07:00" />
  <TestSettings name="default" id="45ec3106-6cfd-4fbe-8a00-203d3c999e42">
    <Deployment runDeploymentRoot="Gill_DESKTOP-3V98JDF_2026-01-18_14_58_33" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="1190940a-837a-418a-933d-7e3b1b96fef7" testId="c802937c-efc8-c034-ed62-a5ba7cad7702" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WhenRequestIsValid" computerName="DESKTOP-3V98JDF" duration="00:00:00.2336358" startTime="2026-01-18T14:58:33.1399321+07:00" endTime="2026-01-18T14:58:33.3648343+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="1190940a-837a-418a-933d-7e3b1b96fef7" />
    <UnitTestResult executionId="0c2d208f-04f8-46e1-8aea-d583ca564c5b" testId="3f9f7c79-7d25-e241-3a5c-e20637f14a07" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal" computerName="DESKTOP-3V98JDF" duration="00:00:02.2447666" startTime="2026-01-18T14:58:30.8752538+07:00" endTime="2026-01-18T14:58:33.1297005+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Failed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="0c2d208f-04f8-46e1-8aea-d583ca564c5b">
      <Output>
        <ErrorInfo>
          <Message>Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400} because Validation should have caught the empty name, but found HttpStatusCode.InternalServerError {value: 500}.</Message>
          <StackTrace>   at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
   at ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal() in e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RoleTests.cs:line 82&#xD;
--- End of stack trace from previous location ---</StackTrace>
        </ErrorInfo>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="ea1a739f-d93f-4be0-bd0f-596412393d7e" testId="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" computerName="DESKTOP-3V98JDF" duration="00:00:00.1578555" startTime="2026-01-18T14:58:33.3660290+07:00" endTime="2026-01-18T14:58:33.5228531+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="ea1a739f-d93f-4be0-bd0f-596412393d7e" />
  </Results>
  <TestDefinitions>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="3f9f7c79-7d25-e241-3a5c-e20637f14a07">
      <Execution id="0c2d208f-04f8-46e1-8aea-d583ca564c5b" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557">
      <Execution id="ea1a739f-d93f-4be0-bd0f-596412393d7e" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WhenRequestIsValid" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="c802937c-efc8-c034-ed62-a5ba7cad7702">
      <Execution id="1190940a-837a-418a-933d-7e3b1b96fef7" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnOk_WhenRequestIsValid" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="c802937c-efc8-c034-ed62-a5ba7cad7702" executionId="1190940a-837a-418a-933d-7e3b1b96fef7" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="3f9f7c79-7d25-e241-3a5c-e20637f14a07" executionId="0c2d208f-04f8-46e1-8aea-d583ca564c5b" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557" executionId="ea1a739f-d93f-4be0-bd0f-596412393d7e" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Failed">
    <Counters total="3" executed="3" passed="2" failed="1" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.4+50e68bbb8b (64-bit .NET 8.0.22)&#xD;
[xUnit.net 00:00:00.09]   Discovering: ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.12]   Discovered:  ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.14]   Starting:    ControlHub.Api.Tests&#xD;
[14:58:31 INF] Saved 3 entities to in-memory store.&#xD;
[14:58:31 INF] Saved 19 entities to in-memory store.&#xD;
Seeded 5 identifier configs successfully.&#xD;
[14:58:31 INF] Saved 32 entities to in-memory store.&#xD;
Seeded 32 permissions successfully.&#xD;
[14:58:32 INF] Saved 16 entities to in-memory store.&#xD;
Seeded 4 test accounts successfully.&#xD;
Database seeding completed successfully.&#xD;
? ControlHub seeding completed successfully!&#xD;
[14:58:32 INF] User profile is available. Using 'C:\Users\Gill\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.&#xD;
[14:58:32 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[14:58:32 WRN] Failed to determine the https port for redirect.&#xD;
[14:58:32 INF] ?? [JWT Config] Successfully loaded. Issuer: ControlHub&#xD;
[14:58:32 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[14:58:32 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:32 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[14:58:32 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[14:58:32 INF] Account.RegisterSupperAdmin.Success: Account created successfully for AccountId 23e46563-02ad-47c9-89e1-ad40982c40f4, Ident superadmin@example.com&#xD;
[14:58:32 INF] Implicit transaction started at 01/18/2026 07:58:32&#xD;
[14:58:32 INF] Saved 4 entities to in-memory store.&#xD;
[14:58:32 INF] Transaction committed successfully with 4 changes.&#xD;
[14:58:32 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 211.5238ms.&#xD;
[14:58:32 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.RegisterSupperAdminResponse'.&#xD;
[14:58:32 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 245.5659ms&#xD;
[14:58:32 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[14:58:32 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 200 null application/json; charset=utf-8 309.2433ms&#xD;
[14:58:32 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[14:58:32 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:32 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:32 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[14:58:32 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[14:58:32 INF] Implicit transaction started at 01/18/2026 07:58:32&#xD;
[14:58:32 INF] Saved 2 entities to in-memory store.&#xD;
[14:58:32 INF] Transaction committed successfully with 2 changes.&#xD;
[14:58:32 INF] Account.SignIn.Success: User signed in successfully for AccountId 23e46563-02ad-47c9-89e1-ad40982c40f4&#xD;
[14:58:32 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 210.186ms.&#xD;
[14:58:32 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[14:58:32 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 214.5979ms&#xD;
[14:58:32 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:32 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 220.2911ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 109&#xD;
[14:58:33 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[14:58:33 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Role.CreateRoles.Started: Starting role creation process. Count=1&#xD;
[14:58:33 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 26.3732ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[14:58:33 ERR] Unhandled exception at /api/Role/roles [ArgumentException] with TraceId 0HNIMCTFVC71L&#xD;
System.ArgumentException: Name is required (Parameter 'name')&#xD;
   at ControlHub.Domain.Roles.Role.Create(Guid id, String name, String description) in e:\Project\ControlHub\src\ControlHub.Domain\Roles\Role.cs:line 37&#xD;
   at ControlHub.Domain.Common.Services.CreateRoleWithPermissionsService.Handle(String name, String description, IEnumerable`1 validPermissions) in e:\Project\ControlHub\src\ControlHub.Domain\Common\Services\CreateRoleWithPermissionsService.cs:line 20&#xD;
   at ControlHub.Application.Roles.Commands.CreateRoles.CreateRolesCommandHandler.Handle(CreateRolesCommand request, CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.Application\Roles\Commands\CreateRoles\CreateRolesCommandHandler.cs:line 116&#xD;
   at ControlHub.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in e:\Project\ControlHub\src\ControlHub.Application\Common\Behaviors\ValidationBehavior.cs:line 27&#xD;
   at ControlHub.API.Roles.RoleController.CreateRoles(CreateRolesRequest request, CancellationToken ct) in e:\Project\ControlHub\src\ControlHub.API\Roles\RoleController.cs:line 73&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Logged|12_1(ControllerActionInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()&#xD;
--- End of stack trace from previous location ---&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Logged|17_1(ResourceInvoker invoker)&#xD;
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)&#xD;
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)&#xD;
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)&#xD;
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)&#xD;
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)&#xD;
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in e:\Project\ControlHub\src\ControlHub.API\Middlewares\GlobalExceptionMiddleware.cs:line 24&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 500 null application/json; charset=utf-8 85.8605ms&#xD;
     Warning:&#xD;
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and&#xD;
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for&#xD;
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.&#xD;
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.&#xD;
     A paid commercial license supports the development and continued increasing support of&#xD;
     Fluent Assertions users under both commercial and community licenses. Help us&#xD;
     keep Fluent Assertions at the forefront of unit testing.&#xD;
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/&#xD;
[xUnit.net 00:00:02.41]       Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400} because Validation should have caught the empty name, but found HttpStatusCode.InternalServerError {value: 500}.&#xD;
[xUnit.net 00:00:02.42]       Stack Trace:&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)&#xD;
[xUnit.net 00:00:02.42]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)&#xD;
[xUnit.net 00:00:02.42]         e:\Project\ControlHub\tests\ControlHub.Api.Tests\FunctionalTests\Accounts\RoleTests.cs(82,0): at ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal()&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[xUnit.net 00:00:02.42]         --- End of stack trace from previous location ---&#xD;
[14:58:33 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[14:58:33 WRN] Account.RegisterSupperAdmin.IdentifierExists: Identifier already exists for Ident superadmin@example.com&#xD;
[14:58:33 WRN] Client Error occurred: Conflict (Code: Account.EmailAlreadyExists). Message: The email provided is already in use.&#xD;
[14:58:33 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.ConflictObjectResult in 3.9864ms.&#xD;
[14:58:33 INF] Executing ConflictObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.&#xD;
[14:58:33 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 6.616ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 409 null application/problem+json; charset=utf-8 7.583ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:33 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[14:58:33 INF] Implicit transaction started at 01/18/2026 07:58:33&#xD;
[14:58:33 INF] Saved 2 entities to in-memory store.&#xD;
[14:58:33 INF] Transaction committed successfully with 2 changes.&#xD;
[14:58:33 INF] Account.SignIn.Success: User signed in successfully for AccountId 23e46563-02ad-47c9-89e1-ad40982c40f4&#xD;
[14:58:33 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 198.5478ms.&#xD;
[14:58:33 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[14:58:33 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 199.1572ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 200.1822ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 131&#xD;
[14:58:33 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[14:58:33 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Role.CreateRoles.Started: Starting role creation process. Count=1&#xD;
[14:58:33 INF] Role.CreateRoles.RolePrepared: Role successfully composed and ready for persistence. Role=Test Role dc83422a&#xD;
[14:58:33 INF] Implicit transaction started at 01/18/2026 07:58:33&#xD;
[14:58:33 INF] Saved 2 entities to in-memory store.&#xD;
[14:58:33 INF] Transaction committed successfully with 2 changes.&#xD;
[14:58:33 INF] Role.CreateRoles.Success: Roles created and persisted successfully. RolesCreated=1&#xD;
[14:58:33 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2909ms.&#xD;
[14:58:33 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Roles.ViewModels.Responses.CreateRolesResponse'.&#xD;
[14:58:33 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 16.4051ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 200 null application/json; charset=utf-8 19.2977ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/users/register - application/json; charset=utf-8 69&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:58:33 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControlHub.API.Accounts.ViewModels.Request.RegisterUserRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Account.RegisterUser.Started: Starting account creation for Ident test@example.com&#xD;
[14:58:33 INF] Account.RegisterUser.Success: Account created successfully for AccountId 69bd1bc3-0100-4133-8412-e2814fa4e3a6, Ident test@example.com&#xD;
[14:58:33 INF] Implicit transaction started at 01/18/2026 07:58:33&#xD;
[14:58:33 INF] Saved 4 entities to in-memory store.&#xD;
[14:58:33 INF] Transaction committed successfully with 4 changes.&#xD;
[14:58:33 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 69.8637ms.&#xD;
[14:58:33 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.RegisterUserResponse'.&#xD;
[14:58:33 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) in 73.3735ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/users/register - 200 null application/json; charset=utf-8 77.0387ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 69&#xD;
[14:58:33 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:33 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[14:58:33 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[14:58:33 INF] Account.SignIn.Started: Starting sign-in process for Identifier test@example.com&#xD;
[14:58:33 INF] Implicit transaction started at 01/18/2026 07:58:33&#xD;
[14:58:33 INF] Saved 2 entities to in-memory store.&#xD;
[14:58:33 INF] Transaction committed successfully with 2 changes.&#xD;
[14:58:33 INF] Account.SignIn.Success: User signed in successfully for AccountId 69bd1bc3-0100-4133-8412-e2814fa4e3a6&#xD;
[14:58:33 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.2456ms.&#xD;
[14:58:33 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[14:58:33 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 72.9407ms&#xD;
[14:58:33 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 73.5947ms&#xD;
[14:58:33 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 72&#xD;
[14:58:33 INF] --- PermissionClaimsTransformation: Role user kh�ng c� permission n�o. ---&#xD;
[14:58:33 INF] Authorization failed. These requirements were not met:&#xD;
ControlHub.Application.Authorization.Requirements.PermissionRequirement&#xD;
[14:58:33 INF] AuthenticationScheme: Bearer was forbidden.&#xD;
[14:58:33 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 403 null null 3.9783ms&#xD;
[xUnit.net 00:00:02.81]   Finished:    ControlHub.Api.Tests&#xD;
</StdOut>
    </Output>
    <RunInfos>
      <RunInfo computerName="DESKTOP-3V98JDF" outcome="Error" timestamp="2026-01-18T14:58:33.1315714+07:00">
        <Text>[xUnit.net 00:00:02.41]     ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldBypassValidation_WhenNameIsEmpty_BecauseValidatorIsInternal [FAIL]</Text>
      </RunInfo>
    </RunInfos>
  </ResultSummary>
</TestRun>