<?xml version="1.0" encoding="utf-8"?>
<TestRun id="9d40c8d1-2076-4780-a41e-6ceee5a74270" name="Gill@DESKTOP-3V98JDF 2026-01-18 15:24:27" runUser="DESKTOP-3V98JDF\Gill" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2026-01-18T15:24:27.8494576+07:00" queuing="2026-01-18T15:24:27.8494579+07:00" start="2026-01-18T15:24:24.5068185+07:00" finish="2026-01-18T15:24:28.5118796+07:00" />
  <TestSettings name="default" id="4a97bbfe-3c98-41c9-be98-d9445c98d2c2">
    <Deployment runDeploymentRoot="Gill_DESKTOP-3V98JDF_2026-01-18_15_24_27" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="3fe6a543-5005-44c2-a341-91fb4a10de22" testId="9d54b7d5-591d-ace1-0e4d-cd800390146a" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_ButSilentlyFilterDuplicates_WhenRoleAlreadyExists" computerName="DESKTOP-3V98JDF" duration="00:00:02.5948698" startTime="2026-01-18T15:24:25.0957415+07:00" endTime="2026-01-18T15:24:27.6992091+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="3fe6a543-5005-44c2-a341-91fb4a10de22" />
    <UnitTestResult executionId="c6d127f8-cedf-4178-903a-2825174ca6af" testId="e505512f-6980-e6a2-8a21-499859229f55" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnBadRequest_WhenNameIsEmpty" computerName="DESKTOP-3V98JDF" duration="00:00:00.1734520" startTime="2026-01-18T15:24:27.9779788+07:00" endTime="2026-01-18T15:24:28.1514958+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="c6d127f8-cedf-4178-903a-2825174ca6af" />
    <UnitTestResult executionId="1b525464-ebb5-4007-9597-e1ff9e0aaa42" testId="c802937c-efc8-c034-ed62-a5ba7cad7702" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WhenRequestIsValid" computerName="DESKTOP-3V98JDF" duration="00:00:00.1302792" startTime="2026-01-18T15:24:27.8478206+07:00" endTime="2026-01-18T15:24:27.9776679+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="1b525464-ebb5-4007-9597-e1ff9e0aaa42" />
    <UnitTestResult executionId="2d010bce-db3b-4974-afff-34d325508881" testId="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" computerName="DESKTOP-3V98JDF" duration="00:00:00.2593992" startTime="2026-01-18T15:24:28.1517604+07:00" endTime="2026-01-18T15:24:28.4112509+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="2d010bce-db3b-4974-afff-34d325508881" />
    <UnitTestResult executionId="c54e00d2-e475-45c5-a223-ebe456804b4c" testId="0f7b3a18-e8d4-141c-93a2-ce1fabc48217" testName="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WithPartialSuccess_WhenOneRoleIsInvalid" computerName="DESKTOP-3V98JDF" duration="00:00:00.1466534" startTime="2026-01-18T15:24:27.7064695+07:00" endTime="2026-01-18T15:24:27.8470615+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="c54e00d2-e475-45c5-a223-ebe456804b4c" />
  </Results>
  <TestDefinitions>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557">
      <Execution id="2d010bce-db3b-4974-afff-34d325508881" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnForbidden_WhenNotSuperAdmin" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WhenRequestIsValid" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="c802937c-efc8-c034-ed62-a5ba7cad7702">
      <Execution id="1b525464-ebb5-4007-9597-e1ff9e0aaa42" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnOk_WhenRequestIsValid" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_WithPartialSuccess_WhenOneRoleIsInvalid" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="0f7b3a18-e8d4-141c-93a2-ce1fabc48217">
      <Execution id="c54e00d2-e475-45c5-a223-ebe456804b4c" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnOk_WithPartialSuccess_WhenOneRoleIsInvalid" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnOk_ButSilentlyFilterDuplicates_WhenRoleAlreadyExists" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="9d54b7d5-591d-ace1-0e4d-cd800390146a">
      <Execution id="3fe6a543-5005-44c2-a341-91fb4a10de22" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnOk_ButSilentlyFilterDuplicates_WhenRoleAlreadyExists" />
    </UnitTest>
    <UnitTest name="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests.CreateRoles_ShouldReturnBadRequest_WhenNameIsEmpty" storage="e:\project\controlhub\tests\controlhub.api.tests\bin\debug\net8.0\controlhub.api.tests.dll" id="e505512f-6980-e6a2-8a21-499859229f55">
      <Execution id="c6d127f8-cedf-4178-903a-2825174ca6af" />
      <TestMethod codeBase="e:\Project\ControlHub\tests\ControlHub.Api.Tests\bin\Debug\net8.0\ControlHub.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="ControlHub.Api.Tests.FunctionalTests.Accounts.RoleTests" name="CreateRoles_ShouldReturnBadRequest_WhenNameIsEmpty" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="9d54b7d5-591d-ace1-0e4d-cd800390146a" executionId="3fe6a543-5005-44c2-a341-91fb4a10de22" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="e505512f-6980-e6a2-8a21-499859229f55" executionId="c6d127f8-cedf-4178-903a-2825174ca6af" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c802937c-efc8-c034-ed62-a5ba7cad7702" executionId="1b525464-ebb5-4007-9597-e1ff9e0aaa42" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c37f2f82-26d1-3eaf-ddab-1e3a5cbe2557" executionId="2d010bce-db3b-4974-afff-34d325508881" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="0f7b3a18-e8d4-141c-93a2-ce1fabc48217" executionId="c54e00d2-e475-45c5-a223-ebe456804b4c" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Completed">
    <Counters total="5" executed="5" passed="5" failed="0" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.4+50e68bbb8b (64-bit .NET 8.0.22)&#xD;
[xUnit.net 00:00:00.19]   Discovering: ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.22]   Discovered:  ControlHub.Api.Tests&#xD;
[xUnit.net 00:00:00.24]   Starting:    ControlHub.Api.Tests&#xD;
[15:24:26 INF] Saved 3 entities to in-memory store.&#xD;
[15:24:26 INF] Saved 19 entities to in-memory store.&#xD;
Seeded 5 identifier configs successfully.&#xD;
[15:24:26 INF] Saved 32 entities to in-memory store.&#xD;
Seeded 32 permissions successfully.&#xD;
[15:24:26 INF] Saved 16 entities to in-memory store.&#xD;
Seeded 4 test accounts successfully.&#xD;
Database seeding completed successfully.&#xD;
? ControlHub seeding completed successfully!&#xD;
[15:24:26 INF] User profile is available. Using 'C:\Users\Gill\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[15:24:27 WRN] Failed to determine the https port for redirect.&#xD;
[15:24:27 INF] ?? [JWT Config] Successfully loaded. Issuer: ControlHub&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[15:24:27 INF] Account.RegisterSupperAdmin.Success: Account created successfully for AccountId 06359d4b-258d-4a88-bcb1-04b8d81acea7, Ident superadmin@example.com&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 4 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 4 changes.&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 210.1137ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.RegisterSupperAdminResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 243.862ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 200 null application/json; charset=utf-8 306.3067ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Account.SignIn.Success: User signed in successfully for AccountId 06359d4b-258d-4a88-bcb1-04b8d81acea7&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 201.7084ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 205.5779ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 211.3302ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 124&#xD;
[15:24:27 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Role.CreateRoles.Started: Starting role creation process. Count=1&#xD;
[15:24:27 INF] Role.CreateRoles.RolePrepared: Role successfully composed and ready for persistence. Role=Duplicate Role 185d5e70&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Role.CreateRoles.Success: Roles created and persisted successfully. RolesCreated=1&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.3736ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Roles.ViewModels.Responses.CreateRolesResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 54.306ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 200 null application/json; charset=utf-8 94.9768ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 229&#xD;
[15:24:27 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Role.CreateRoles.Started: Starting role creation process. Count=2&#xD;
[15:24:27 WRN] Role.CreateRoles.DuplicateNames: Duplicate role names detected. Role=Duplicate Role 185d5e70&#xD;
[15:24:27 INF] Role.CreateRoles.RolePrepared: Role successfully composed and ready for persistence. Role=New Unique Role&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Role.CreateRoles.Success: Roles created and persisted successfully. RolesCreated=1&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.4755ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Roles.ViewModels.Responses.CreateRolesResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 5.1632ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 200 null application/json; charset=utf-8 8.6611ms&#xD;
     Warning:&#xD;
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and&#xD;
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for&#xD;
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.&#xD;
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.&#xD;
     A paid commercial license supports the development and continued increasing support of&#xD;
     Fluent Assertions users under both commercial and community licenses. Help us&#xD;
     keep Fluent Assertions at the forefront of unit testing.&#xD;
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Account.RegisterSupperAdmin.IdentifierExists: Identifier already exists for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Client Error occurred: Conflict (Code: Account.EmailAlreadyExists). Message: The email provided is already in use.&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.ConflictObjectResult in 3.3879ms.&#xD;
[15:24:27 INF] Executing ConflictObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 11.4442ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 409 null application/problem+json; charset=utf-8 12.3026ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Account.SignIn.Success: User signed in successfully for AccountId 06359d4b-258d-4a88-bcb1-04b8d81acea7&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.973ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 116.5878ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 117.5844ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 231&#xD;
[15:24:27 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Role.CreateRoles.Started: Starting role creation process. Count=2&#xD;
[15:24:27 INF] Role.CreateRoles.RolePrepared: Role successfully composed and ready for persistence. Role=Valid Role d4b2db41&#xD;
[15:24:27 WRN] Role.CreateRoles.NoValidPermissionFound: No valid permissions found for provided IDs. Role=Handler-Level Failure&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Role.CreateRoles.Success: Roles created and persisted successfully. RolesCreated=1&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8588ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Roles.ViewModels.Responses.CreateRolesResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 5.5049ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 200 null application/json; charset=utf-8 8.6252ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Account.RegisterSupperAdmin.IdentifierExists: Identifier already exists for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Client Error occurred: Conflict (Code: Account.EmailAlreadyExists). Message: The email provided is already in use.&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.ConflictObjectResult in 6.1181ms.&#xD;
[15:24:27 INF] Executing ConflictObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 6.8591ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 409 null application/problem+json; charset=utf-8 7.5024ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Account.SignIn.Success: User signed in successfully for AccountId 06359d4b-258d-4a88-bcb1-04b8d81acea7&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.0557ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 115.5535ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 116.1266ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 131&#xD;
[15:24:27 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Role.CreateRoles.Started: Starting role creation process. Count=1&#xD;
[15:24:27 INF] Role.CreateRoles.RolePrepared: Role successfully composed and ready for persistence. Role=Test Role 93f9e7f6&#xD;
[15:24:27 INF] Implicit transaction started at 01/18/2026 08:24:27&#xD;
[15:24:27 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:27 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:27 INF] Role.CreateRoles.Success: Roles created and persisted successfully. RolesCreated=1&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5707ms.&#xD;
[15:24:27 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Roles.ViewModels.Responses.CreateRolesResponse'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 2.0257ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 200 null application/json; charset=utf-8 3.4057ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - application/json; charset=utf-8 98&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "RegisterSuperAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterSuperAdmin(ControlHub.API.Accounts.ViewModels.Request.RegisterSupperAdminRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.RegisterSupperAdmin.Started: Starting account creation for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Account.RegisterSupperAdmin.IdentifierExists: Identifier already exists for Ident superadmin@example.com&#xD;
[15:24:27 WRN] Client Error occurred: Conflict (Code: Account.EmailAlreadyExists). Message: The email provided is already in use.&#xD;
[15:24:27 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.ConflictObjectResult in 0.796ms.&#xD;
[15:24:27 INF] Executing ConflictObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.&#xD;
[15:24:27 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API) in 1.3316ms&#xD;
[15:24:27 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.RegisterSuperAdmin (ControlHub.API)'&#xD;
[15:24:27 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/superadmins/register - 409 null application/problem+json; charset=utf-8 1.8011ms&#xD;
[15:24:27 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 74&#xD;
[15:24:27 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:27 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:27 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[15:24:27 INF] Account.SignIn.Started: Starting sign-in process for Identifier superadmin@example.com&#xD;
[15:24:28 INF] Implicit transaction started at 01/18/2026 08:24:28&#xD;
[15:24:28 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:28 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:28 INF] Account.SignIn.Success: User signed in successfully for AccountId 06359d4b-258d-4a88-bcb1-04b8d81acea7&#xD;
[15:24:28 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 161.9992ms.&#xD;
[15:24:28 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[15:24:28 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 162.5556ms&#xD;
[15:24:28 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:28 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 163.0112ms&#xD;
[15:24:28 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 109&#xD;
[15:24:28 INF] --- PermissionClaimsTransformation: Role super_admin kh�ng c� permission n�o. ---&#xD;
[15:24:28 INF] Executing endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:28 INF] Route matched with {action = "CreateRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoles(ControlHub.API.Roles.ViewModels.Requests.CreateRolesRequest, System.Threading.CancellationToken) on controller ControlHub.API.Roles.RoleController (ControlHub.API).&#xD;
[15:24:28 INF] Executing action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) - Validation state: Valid&#xD;
[15:24:28 WRN] Client Error occurred: Validation Error (Code: Validation.Failed). Message: Role name is required.&#xD;
[15:24:28 INF] Executed action method ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.6409ms.&#xD;
[15:24:28 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.&#xD;
[15:24:28 INF] Executed action ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API) in 4.2797ms&#xD;
[15:24:28 INF] Executed endpoint 'ControlHub.API.Roles.RoleController.CreateRoles (ControlHub.API)'&#xD;
[15:24:28 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 400 null application/problem+json; charset=utf-8 5.7446ms&#xD;
[15:24:28 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/users/register - application/json; charset=utf-8 69&#xD;
[15:24:28 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[15:24:28 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ControlHub.API.Accounts.ViewModels.Request.RegisterUserRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:28 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) - Validation state: Valid&#xD;
[15:24:28 INF] Account.RegisterUser.Started: Starting account creation for Ident test@example.com&#xD;
[15:24:28 INF] Account.RegisterUser.Success: Account created successfully for AccountId 6e215290-b8ce-43b2-9a3b-f782e101a418, Ident test@example.com&#xD;
[15:24:28 INF] Implicit transaction started at 01/18/2026 08:24:28&#xD;
[15:24:28 INF] Saved 4 entities to in-memory store.&#xD;
[15:24:28 INF] Transaction committed successfully with 4 changes.&#xD;
[15:24:28 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 135.0938ms.&#xD;
[15:24:28 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.RegisterUserResponse'.&#xD;
[15:24:28 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API) in 138.2589ms&#xD;
[15:24:28 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.Register (ControlHub.API)'&#xD;
[15:24:28 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/users/register - 200 null application/json; charset=utf-8 141.5579ms&#xD;
[15:24:28 INF] Request starting HTTP/1.1 POST http://localhost/api/Auth/auth/signin - application/json; charset=utf-8 69&#xD;
[15:24:28 INF] Executing endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:28 INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(ControlHub.API.Accounts.ViewModels.Request.SignInRequest, System.Threading.CancellationToken) on controller ControlHub.API.Accounts.Controllers.AuthController (ControlHub.API).&#xD;
[15:24:28 INF] Executing action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) - Validation state: Valid&#xD;
[15:24:28 INF] Account.SignIn.Started: Starting sign-in process for Identifier test@example.com&#xD;
[15:24:28 INF] Implicit transaction started at 01/18/2026 08:24:28&#xD;
[15:24:28 INF] Saved 2 entities to in-memory store.&#xD;
[15:24:28 INF] Transaction committed successfully with 2 changes.&#xD;
[15:24:28 INF] Account.SignIn.Success: User signed in successfully for AccountId 6e215290-b8ce-43b2-9a3b-f782e101a418&#xD;
[15:24:28 INF] Executed action method ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 111.0113ms.&#xD;
[15:24:28 INF] Executing OkObjectResult, writing value of type 'ControlHub.API.Accounts.ViewModels.Response.SignInResponse'.&#xD;
[15:24:28 INF] Executed action ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API) in 111.5203ms&#xD;
[15:24:28 INF] Executed endpoint 'ControlHub.API.Accounts.Controllers.AuthController.SignIn (ControlHub.API)'&#xD;
[15:24:28 INF] Request finished HTTP/1.1 POST http://localhost/api/Auth/auth/signin - 200 null application/json; charset=utf-8 112.0621ms&#xD;
[15:24:28 INF] Request starting HTTP/1.1 POST http://localhost/api/Role/roles - application/json; charset=utf-8 72&#xD;
[15:24:28 INF] --- PermissionClaimsTransformation: Role user kh�ng c� permission n�o. ---&#xD;
[15:24:28 INF] Authorization failed. These requirements were not met:&#xD;
ControlHub.Application.Authorization.Requirements.PermissionRequirement&#xD;
[15:24:28 INF] AuthenticationScheme: Bearer was forbidden.&#xD;
[15:24:28 INF] Request finished HTTP/1.1 POST http://localhost/api/Role/roles - 403 null null 2.6764ms&#xD;
[xUnit.net 00:00:03.58]   Finished:    ControlHub.Api.Tests&#xD;
</StdOut>
    </Output>
  </ResultSummary>
</TestRun>